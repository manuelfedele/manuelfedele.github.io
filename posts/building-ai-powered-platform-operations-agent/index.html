<!doctype html><html lang=en><head><title>Building an AI-Powered Platform Operations Agent :: Git Push and Run</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Building an AI-Powered Platform Operations Agent Platform engineering teams handle a constant stream of repetitive requests: onboarding users, managing API keys, checking service health, rotating credentials. Most of these tasks follow well-defined procedures that a human executes step by step. What if an AI agent could handle them instead?
In this post, I&rsquo;ll walk through the architecture of an AI-powered operations agent that automates common platform tasks by giving an LLM access to your internal tools through a structured tool-calling interface.
"><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=https://manuelfedele.github.io/posts/building-ai-powered-platform-operations-agent/><script async src="https://www.googletagmanager.com/gtag/js?id=G-K9P1DJX238"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-K9P1DJX238")}</script><link rel=stylesheet href=https://manuelfedele.github.io/css/buttons.min.86f6b4c106b6c6eb690ae5203d36b442c1f66f718ff4e8164fa86cf6c61ad641.css><link rel=stylesheet href=https://manuelfedele.github.io/css/code.min.d529ea4b2fb8d34328d7d31afc5466d5f7bc2f0bc9abdd98b69385335d7baee4.css><link rel=stylesheet href=https://manuelfedele.github.io/css/fonts.min.5bb7ed13e1d00d8ff39ea84af26737007eb5051b157b86fc24487c94f3dc8bbe.css><link rel=stylesheet href=https://manuelfedele.github.io/css/footer.min.eb8dfc2c6a7eafa36cd3ba92d63e69e849e2200e0002a228d137f236b09ecd75.css><link rel=stylesheet href=https://manuelfedele.github.io/css/gist.min.a751e8b0abe1ba8bc53ced52a38b19d8950fe78ca29454ea8c2595cf26aad5c0.css><link rel=stylesheet href=https://manuelfedele.github.io/css/header.min.75c7eb0e2872d95ff48109c6647d0223a38db52e2561dd87966eb5fc7c6bdac6.css><link rel=stylesheet href=https://manuelfedele.github.io/css/main.min.775ac2af004d44c22a6d000fbd1d9af529642f5cef27399d0280d180af2c2e9b.css><link rel=stylesheet href=https://manuelfedele.github.io/css/menu.min.310d32205bdedd6f43144e3c3273c9deecd238eba5f9108db5ea96ca0cfbe377.css><link rel=stylesheet href=https://manuelfedele.github.io/css/pagination.min.bbb986dbce00a5ce5aca0504b7925fc1c581992a4bf57f163e5d69cc1db7d836.css><link rel=stylesheet href=https://manuelfedele.github.io/css/post.min.ad50c7f4d00e7975918f37fc74c6029e1959a40d66fb5b2c6564a8715e985573.css><link rel=stylesheet href=https://manuelfedele.github.io/css/syntax.min.e9ab635cf918bc84b901eb65c0b2caa74c9544245e3647c1af5c129896ef276e.css><link rel=stylesheet href=https://manuelfedele.github.io/css/terminal.min.e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css><link rel=stylesheet href=https://manuelfedele.github.io/css/terms.min.b81791663c3790e738e571cdbf802312390d30e4b1d8dc9d814a5b5454d0ac11.css><link rel=stylesheet href=https://manuelfedele.github.io/style.css><link rel="shortcut icon" href=https://manuelfedele.github.io/favicon.png><link rel=apple-touch-icon href=https://manuelfedele.github.io/apple-touch-icon.png><meta name=twitter:card content="summary"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="og:title" content="Building an AI-Powered Platform Operations Agent"><meta property="og:description" content="Building an AI-Powered Platform Operations Agent Platform engineering teams handle a constant stream of repetitive requests: onboarding users, managing API keys, checking service health, rotating credentials. Most of these tasks follow well-defined procedures that a human executes step by step. What if an AI agent could handle them instead?
In this post, I&rsquo;ll walk through the architecture of an AI-powered operations agent that automates common platform tasks by giving an LLM access to your internal tools through a structured tool-calling interface.
"><meta property="og:url" content="https://manuelfedele.github.io/posts/building-ai-powered-platform-operations-agent/"><meta property="og:site_name" content="Git Push and Run"><meta property="og:image" content="https://manuelfedele.github.io/og-image.png"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="627"><meta property="article:published_time" content="2026-02-15 11:00:00 +0100 +0100"></head><body><div class="container center"><header class=header><div class=header__inner><div class=header__logo><a href=/><div class=logo>git push && run</div></a></div><ul class="menu menu--mobile"><li class=menu__trigger>Menu&nbsp;â–¾</li><li><ul class=menu__dropdown><li><a href=/about>About</a></li><li><a href=/posts>Blog</a></li></ul></li></ul></div><nav class=navigation-menu><ul class="navigation-menu__inner menu--desktop"><li><a href=/about>About</a></li><li><a href=/posts>Blog</a></li></ul></nav></header><div class=content><article class=post><h1 class=post-title><a href=https://manuelfedele.github.io/posts/building-ai-powered-platform-operations-agent/>Building an AI-Powered Platform Operations Agent</a></h1><div class=post-meta><time class=post-date>2026-02-15</time><span class=post-reading-time>9 min read (1729 words)</span></div><span class=post-tags>#<a href=https://manuelfedele.github.io/tags/python/>python</a>&nbsp;
#<a href=https://manuelfedele.github.io/tags/ai/>AI</a>&nbsp;
#<a href=https://manuelfedele.github.io/tags/devops/>DevOps</a>&nbsp;
#<a href=https://manuelfedele.github.io/tags/automation/>automation</a>&nbsp;
#<a href=https://manuelfedele.github.io/tags/llm/>LLM</a>&nbsp;</span><div class=table-of-contents><h2>Table of Contents</h2><nav id=TableOfContents><ul><li><a href=#the-problem>The Problem</a></li><li><a href=#architecture-overview>Architecture Overview</a></li><li><a href=#defining-tools>Defining Tools</a></li><li><a href=#secrets-manager-integration>Secrets Manager Integration</a></li><li><a href=#jira-integration>Jira Integration</a></li><li><a href=#email-notifications>Email Notifications</a></li><li><a href=#safety-confirmation-for-destructive-operations>Safety: Confirmation for Destructive Operations</a></li><li><a href=#running-the-agent>Running the Agent</a></li><li><a href=#lessons-learned>Lessons Learned</a></li><li><a href=#whats-next>What&rsquo;s Next</a></li><li><a href=#references>References</a></li></ul></nav></div><div class=post-content><div><h1 id=building-an-ai-powered-platform-operations-agent>Building an AI-Powered Platform Operations Agent<a href=#building-an-ai-powered-platform-operations-agent class=hanchor arialabel=Anchor>#</a></h1><p>Platform engineering teams handle a constant stream of repetitive requests: onboarding users, managing API keys, checking service health, rotating credentials. Most of these tasks follow well-defined procedures that a human executes step by step. What if an AI agent could handle them instead?</p><p>In this post, I&rsquo;ll walk through the architecture of an AI-powered operations agent that automates common platform tasks by giving an LLM access to your internal tools through a structured tool-calling interface.</p><h2 id=the-problem>The Problem<a href=#the-problem class=hanchor arialabel=Anchor>#</a></h2><p>A typical day on a platform team looks like this:</p><ul><li>&ldquo;Can you create a GitLab repo for project X?&rdquo;</li><li>&ldquo;I need AWS access for the new developer joining next week.&rdquo;</li><li>&ldquo;What&rsquo;s the current status of the LLM Gateway?&rdquo;</li><li>&ldquo;Can you rotate the API key for service Y?&rdquo;</li><li>&ldquo;Add these users to the Jira project.&rdquo;</li></ul><p>Each request is straightforward, but collectively they eat hours of engineering time. The procedures are documented, the APIs exist, the permissions are in place. What&rsquo;s missing is an intelligent dispatch layer that can understand the request and execute the right steps.</p><h2 id=architecture-overview>Architecture Overview<a href=#architecture-overview class=hanchor arialabel=Anchor>#</a></h2><p>The agent follows a simple loop:</p><pre tabindex=0><code>User Request -&gt; LLM (understands intent) -&gt; Tool Selection -&gt; Tool Execution -&gt; Response
</code></pre><p>The LLM acts as the &ldquo;brain&rdquo; that:</p><ol><li>Understands what the user wants</li><li>Selects the right tool(s)</li><li>Passes the correct parameters</li><li>Interprets the results</li><li>Decides if more steps are needed</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>strands</span> <span class=kn>import</span> <span class=n>Agent</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>strands.models</span> <span class=kn>import</span> <span class=n>BedrockModel</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>.tools</span> <span class=kn>import</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>aws_tools</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>gitlab_tools</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>jira_tools</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>keycloak_tools</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>email_tools</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>create_agent</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>Agent</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>model</span> <span class=o>=</span> <span class=n>BedrockModel</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=n>model_id</span><span class=o>=</span><span class=s2>&#34;anthropic.claude-sonnet-4-20250514&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>region_name</span><span class=o>=</span><span class=s2>&#34;eu-central-1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>tools</span> <span class=o>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=o>*</span><span class=n>aws_tools</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=o>*</span><span class=n>gitlab_tools</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=o>*</span><span class=n>jira_tools</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=o>*</span><span class=n>keycloak_tools</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=o>*</span><span class=n>email_tools</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>system_prompt</span> <span class=o>=</span> <span class=s2>&#34;&#34;&#34;You are a platform operations assistant for the engineering team.
</span></span></span><span class=line><span class=cl><span class=s2>    You help with:
</span></span></span><span class=line><span class=cl><span class=s2>    - AWS account and user management
</span></span></span><span class=line><span class=cl><span class=s2>    - GitLab repository operations
</span></span></span><span class=line><span class=cl><span class=s2>    - Jira project administration
</span></span></span><span class=line><span class=cl><span class=s2>    - Keycloak user management
</span></span></span><span class=line><span class=cl><span class=s2>    - Service credential rotation
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>    Always confirm destructive operations before executing them.
</span></span></span><span class=line><span class=cl><span class=s2>    Never expose secrets in your responses.
</span></span></span><span class=line><span class=cl><span class=s2>    When in doubt, ask for clarification rather than guessing.&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>Agent</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=n>model</span><span class=o>=</span><span class=n>model</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>tools</span><span class=o>=</span><span class=n>tools</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>system_prompt</span><span class=o>=</span><span class=n>system_prompt</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>)</span>
</span></span></code></pre></div><h2 id=defining-tools>Defining Tools<a href=#defining-tools class=hanchor arialabel=Anchor>#</a></h2><p>Each tool is a Python function with a clear docstring that tells the LLM what it does and what parameters it needs:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>strands.tools</span> <span class=kn>import</span> <span class=n>tool</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@tool</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>dynamodb_get_item</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>table_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>key</span><span class=p>:</span> <span class=nb>dict</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>profile</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&#34;default&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;Retrieve an item from a DynamoDB table.
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>    Args:
</span></span></span><span class=line><span class=cl><span class=s2>        table_name: The DynamoDB table name
</span></span></span><span class=line><span class=cl><span class=s2>        key: The primary key of the item to retrieve (e.g., {&#34;pk&#34;: {&#34;S&#34;: &#34;value&#34;}})
</span></span></span><span class=line><span class=cl><span class=s2>        profile: AWS profile to use
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>    Returns:
</span></span></span><span class=line><span class=cl><span class=s2>        The item if found, or an empty dict
</span></span></span><span class=line><span class=cl><span class=s2>    &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=kn>import</span> <span class=nn>boto3</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>session</span> <span class=o>=</span> <span class=n>boto3</span><span class=o>.</span><span class=n>Session</span><span class=p>(</span><span class=n>profile_name</span><span class=o>=</span><span class=n>profile</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>client</span> <span class=o>=</span> <span class=n>session</span><span class=o>.</span><span class=n>client</span><span class=p>(</span><span class=s2>&#34;dynamodb&#34;</span><span class=p>,</span> <span class=n>region_name</span><span class=o>=</span><span class=s2>&#34;eu-central-1&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>response</span> <span class=o>=</span> <span class=n>client</span><span class=o>.</span><span class=n>get_item</span><span class=p>(</span><span class=n>TableName</span><span class=o>=</span><span class=n>table_name</span><span class=p>,</span> <span class=n>Key</span><span class=o>=</span><span class=n>key</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>response</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&#34;Item&#34;</span><span class=p>,</span> <span class=p>{})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@tool</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>dynamodb_scan</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>table_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>filter_expression</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>expression_values</span><span class=p>:</span> <span class=nb>dict</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>profile</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&#34;default&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>list</span><span class=p>[</span><span class=nb>dict</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;Scan a DynamoDB table with an optional filter.
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>    Args:
</span></span></span><span class=line><span class=cl><span class=s2>        table_name: The DynamoDB table name
</span></span></span><span class=line><span class=cl><span class=s2>        filter_expression: Optional filter expression
</span></span></span><span class=line><span class=cl><span class=s2>        expression_values: Optional expression attribute values
</span></span></span><span class=line><span class=cl><span class=s2>        profile: AWS profile to use
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>    Returns:
</span></span></span><span class=line><span class=cl><span class=s2>        List of matching items
</span></span></span><span class=line><span class=cl><span class=s2>    &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=kn>import</span> <span class=nn>boto3</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>session</span> <span class=o>=</span> <span class=n>boto3</span><span class=o>.</span><span class=n>Session</span><span class=p>(</span><span class=n>profile_name</span><span class=o>=</span><span class=n>profile</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>client</span> <span class=o>=</span> <span class=n>session</span><span class=o>.</span><span class=n>client</span><span class=p>(</span><span class=s2>&#34;dynamodb&#34;</span><span class=p>,</span> <span class=n>region_name</span><span class=o>=</span><span class=s2>&#34;eu-central-1&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>params</span><span class=p>:</span> <span class=nb>dict</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&#34;TableName&#34;</span><span class=p>:</span> <span class=n>table_name</span><span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>filter_expression</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>params</span><span class=p>[</span><span class=s2>&#34;FilterExpression&#34;</span><span class=p>]</span> <span class=o>=</span> <span class=n>filter_expression</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>expression_values</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>params</span><span class=p>[</span><span class=s2>&#34;ExpressionAttributeValues&#34;</span><span class=p>]</span> <span class=o>=</span> <span class=n>expression_values</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>items</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>    <span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>response</span> <span class=o>=</span> <span class=n>client</span><span class=o>.</span><span class=n>scan</span><span class=p>(</span><span class=o>**</span><span class=n>params</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>items</span><span class=o>.</span><span class=n>extend</span><span class=p>(</span><span class=n>response</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&#34;Items&#34;</span><span class=p>,</span> <span class=p>[]))</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=s2>&#34;LastEvaluatedKey&#34;</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>response</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>break</span>
</span></span><span class=line><span class=cl>        <span class=n>params</span><span class=p>[</span><span class=s2>&#34;ExclusiveStartKey&#34;</span><span class=p>]</span> <span class=o>=</span> <span class=n>response</span><span class=p>[</span><span class=s2>&#34;LastEvaluatedKey&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>items</span>
</span></span></code></pre></div><h2 id=secrets-manager-integration>Secrets Manager Integration<a href=#secrets-manager-integration class=hanchor arialabel=Anchor>#</a></h2><p>Managing secrets is a common platform task. The agent needs to list, retrieve, and rotate secrets:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=nd>@tool</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>secrets_manager_list</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>prefix</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>profile</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&#34;default&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;List secrets in AWS Secrets Manager, optionally filtered by prefix.
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>    Args:
</span></span></span><span class=line><span class=cl><span class=s2>        prefix: Optional prefix to filter secret names
</span></span></span><span class=line><span class=cl><span class=s2>        profile: AWS profile to use
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>    Returns:
</span></span></span><span class=line><span class=cl><span class=s2>        List of secret names
</span></span></span><span class=line><span class=cl><span class=s2>    &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=kn>import</span> <span class=nn>boto3</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>session</span> <span class=o>=</span> <span class=n>boto3</span><span class=o>.</span><span class=n>Session</span><span class=p>(</span><span class=n>profile_name</span><span class=o>=</span><span class=n>profile</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>client</span> <span class=o>=</span> <span class=n>session</span><span class=o>.</span><span class=n>client</span><span class=p>(</span><span class=s2>&#34;secretsmanager&#34;</span><span class=p>,</span> <span class=n>region_name</span><span class=o>=</span><span class=s2>&#34;eu-central-1&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>paginator</span> <span class=o>=</span> <span class=n>client</span><span class=o>.</span><span class=n>get_paginator</span><span class=p>(</span><span class=s2>&#34;list_secrets&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>filters</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>prefix</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>filters</span><span class=o>.</span><span class=n>append</span><span class=p>({</span><span class=s2>&#34;Key&#34;</span><span class=p>:</span> <span class=s2>&#34;name&#34;</span><span class=p>,</span> <span class=s2>&#34;Values&#34;</span><span class=p>:</span> <span class=p>[</span><span class=n>prefix</span><span class=p>]})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>secrets</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>page</span> <span class=ow>in</span> <span class=n>paginator</span><span class=o>.</span><span class=n>paginate</span><span class=p>(</span><span class=n>Filters</span><span class=o>=</span><span class=n>filters</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>secret</span> <span class=ow>in</span> <span class=n>page</span><span class=p>[</span><span class=s2>&#34;SecretList&#34;</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>            <span class=n>secrets</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>secret</span><span class=p>[</span><span class=s2>&#34;Name&#34;</span><span class=p>])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>secrets</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@tool</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>secrets_manager_get</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>secret_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>profile</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&#34;default&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;Retrieve a secret value from AWS Secrets Manager.
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>    Args:
</span></span></span><span class=line><span class=cl><span class=s2>        secret_name: The name or ARN of the secret
</span></span></span><span class=line><span class=cl><span class=s2>        profile: AWS profile to use
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>    Returns:
</span></span></span><span class=line><span class=cl><span class=s2>        The secret value as a string
</span></span></span><span class=line><span class=cl><span class=s2>    &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=kn>import</span> <span class=nn>boto3</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>session</span> <span class=o>=</span> <span class=n>boto3</span><span class=o>.</span><span class=n>Session</span><span class=p>(</span><span class=n>profile_name</span><span class=o>=</span><span class=n>profile</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>client</span> <span class=o>=</span> <span class=n>session</span><span class=o>.</span><span class=n>client</span><span class=p>(</span><span class=s2>&#34;secretsmanager&#34;</span><span class=p>,</span> <span class=n>region_name</span><span class=o>=</span><span class=s2>&#34;eu-central-1&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>response</span> <span class=o>=</span> <span class=n>client</span><span class=o>.</span><span class=n>get_secret_value</span><span class=p>(</span><span class=n>SecretId</span><span class=o>=</span><span class=n>secret_name</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>response</span><span class=p>[</span><span class=s2>&#34;SecretString&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@tool</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>secrets_manager_put</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>secret_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>secret_value</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>description</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>profile</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&#34;default&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;Create or update a secret in AWS Secrets Manager.
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>    Args:
</span></span></span><span class=line><span class=cl><span class=s2>        secret_name: The name of the secret
</span></span></span><span class=line><span class=cl><span class=s2>        secret_value: The secret value to store
</span></span></span><span class=line><span class=cl><span class=s2>        description: Optional description for the secret
</span></span></span><span class=line><span class=cl><span class=s2>        profile: AWS profile to use
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>    Returns:
</span></span></span><span class=line><span class=cl><span class=s2>        The ARN of the created/updated secret
</span></span></span><span class=line><span class=cl><span class=s2>    &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=kn>import</span> <span class=nn>boto3</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>session</span> <span class=o>=</span> <span class=n>boto3</span><span class=o>.</span><span class=n>Session</span><span class=p>(</span><span class=n>profile_name</span><span class=o>=</span><span class=n>profile</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>client</span> <span class=o>=</span> <span class=n>session</span><span class=o>.</span><span class=n>client</span><span class=p>(</span><span class=s2>&#34;secretsmanager&#34;</span><span class=p>,</span> <span class=n>region_name</span><span class=o>=</span><span class=s2>&#34;eu-central-1&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>response</span> <span class=o>=</span> <span class=n>client</span><span class=o>.</span><span class=n>update_secret</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=n>SecretId</span><span class=o>=</span><span class=n>secret_name</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>SecretString</span><span class=o>=</span><span class=n>secret_value</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=o>**</span><span class=p>({</span><span class=s2>&#34;Description&#34;</span><span class=p>:</span> <span class=n>description</span><span class=p>}</span> <span class=k>if</span> <span class=n>description</span> <span class=k>else</span> <span class=p>{}),</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>except</span> <span class=n>client</span><span class=o>.</span><span class=n>exceptions</span><span class=o>.</span><span class=n>ResourceNotFoundException</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>response</span> <span class=o>=</span> <span class=n>client</span><span class=o>.</span><span class=n>create_secret</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=n>Name</span><span class=o>=</span><span class=n>secret_name</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>SecretString</span><span class=o>=</span><span class=n>secret_value</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=o>**</span><span class=p>({</span><span class=s2>&#34;Description&#34;</span><span class=p>:</span> <span class=n>description</span><span class=p>}</span> <span class=k>if</span> <span class=n>description</span> <span class=k>else</span> <span class=p>{}),</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>response</span><span class=p>[</span><span class=s2>&#34;ARN&#34;</span><span class=p>]</span>
</span></span></code></pre></div><h2 id=jira-integration>Jira Integration<a href=#jira-integration class=hanchor arialabel=Anchor>#</a></h2><p>The agent handles Jira service desk requests, which is where most user requests come in:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>requests</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>strands.tools</span> <span class=kn>import</span> <span class=n>tool</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@tool</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>jira_get_issue</span><span class=p>(</span><span class=n>issue_key</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;Get details of a Jira issue.
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>    Args:
</span></span></span><span class=line><span class=cl><span class=s2>        issue_key: The issue key (e.g., GAP-123)
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>    Returns:
</span></span></span><span class=line><span class=cl><span class=s2>        Issue details including summary, status, assignee, and description
</span></span></span><span class=line><span class=cl><span class=s2>    &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=kn>import</span> <span class=nn>os</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>base_url</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=p>[</span><span class=s2>&#34;ATLASSIAN_BASE_URL&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=n>auth</span> <span class=o>=</span> <span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=p>[</span><span class=s2>&#34;ATLASSIAN_USER&#34;</span><span class=p>],</span> <span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=p>[</span><span class=s2>&#34;ATLASSIAN_TOKEN&#34;</span><span class=p>])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>response</span> <span class=o>=</span> <span class=n>requests</span><span class=o>.</span><span class=n>get</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=n>base_url</span><span class=si>}</span><span class=s2>/rest/api/2/issue/</span><span class=si>{</span><span class=n>issue_key</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>auth</span><span class=o>=</span><span class=n>auth</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>timeout</span><span class=o>=</span><span class=mi>30</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>response</span><span class=o>.</span><span class=n>raise_for_status</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>data</span> <span class=o>=</span> <span class=n>response</span><span class=o>.</span><span class=n>json</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;key&#34;</span><span class=p>:</span> <span class=n>data</span><span class=p>[</span><span class=s2>&#34;key&#34;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;summary&#34;</span><span class=p>:</span> <span class=n>data</span><span class=p>[</span><span class=s2>&#34;fields&#34;</span><span class=p>][</span><span class=s2>&#34;summary&#34;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;status&#34;</span><span class=p>:</span> <span class=n>data</span><span class=p>[</span><span class=s2>&#34;fields&#34;</span><span class=p>][</span><span class=s2>&#34;status&#34;</span><span class=p>][</span><span class=s2>&#34;name&#34;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;assignee&#34;</span><span class=p>:</span> <span class=p>(</span><span class=n>data</span><span class=p>[</span><span class=s2>&#34;fields&#34;</span><span class=p>]</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&#34;assignee&#34;</span><span class=p>)</span> <span class=ow>or</span> <span class=p>{})</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&#34;displayName&#34;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;description&#34;</span><span class=p>:</span> <span class=n>data</span><span class=p>[</span><span class=s2>&#34;fields&#34;</span><span class=p>]</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&#34;description&#34;</span><span class=p>,</span> <span class=s2>&#34;&#34;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;issue_type&#34;</span><span class=p>:</span> <span class=n>data</span><span class=p>[</span><span class=s2>&#34;fields&#34;</span><span class=p>][</span><span class=s2>&#34;issuetype&#34;</span><span class=p>][</span><span class=s2>&#34;name&#34;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@tool</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>jira_transition_issue</span><span class=p>(</span><span class=n>issue_key</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>status</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;Transition a Jira issue to a new status.
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>    Args:
</span></span></span><span class=line><span class=cl><span class=s2>        issue_key: The issue key (e.g., GAP-123)
</span></span></span><span class=line><span class=cl><span class=s2>        status: The target status name (e.g., &#34;Done&#34;, &#34;In Progress&#34;)
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>    Returns:
</span></span></span><span class=line><span class=cl><span class=s2>        Confirmation message
</span></span></span><span class=line><span class=cl><span class=s2>    &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=kn>import</span> <span class=nn>os</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>base_url</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=p>[</span><span class=s2>&#34;ATLASSIAN_BASE_URL&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=n>auth</span> <span class=o>=</span> <span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=p>[</span><span class=s2>&#34;ATLASSIAN_USER&#34;</span><span class=p>],</span> <span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=p>[</span><span class=s2>&#34;ATLASSIAN_TOKEN&#34;</span><span class=p>])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># Get available transitions</span>
</span></span><span class=line><span class=cl>    <span class=n>response</span> <span class=o>=</span> <span class=n>requests</span><span class=o>.</span><span class=n>get</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=n>base_url</span><span class=si>}</span><span class=s2>/rest/api/2/issue/</span><span class=si>{</span><span class=n>issue_key</span><span class=si>}</span><span class=s2>/transitions&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>auth</span><span class=o>=</span><span class=n>auth</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>timeout</span><span class=o>=</span><span class=mi>30</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>response</span><span class=o>.</span><span class=n>raise_for_status</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>transitions</span> <span class=o>=</span> <span class=n>response</span><span class=o>.</span><span class=n>json</span><span class=p>()[</span><span class=s2>&#34;transitions&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=n>target</span> <span class=o>=</span> <span class=nb>next</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=p>(</span><span class=n>t</span> <span class=k>for</span> <span class=n>t</span> <span class=ow>in</span> <span class=n>transitions</span> <span class=k>if</span> <span class=n>t</span><span class=p>[</span><span class=s2>&#34;name&#34;</span><span class=p>]</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span> <span class=o>==</span> <span class=n>status</span><span class=o>.</span><span class=n>lower</span><span class=p>()),</span>
</span></span><span class=line><span class=cl>        <span class=kc>None</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=ow>not</span> <span class=n>target</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>available</span> <span class=o>=</span> <span class=p>[</span><span class=n>t</span><span class=p>[</span><span class=s2>&#34;name&#34;</span><span class=p>]</span> <span class=k>for</span> <span class=n>t</span> <span class=ow>in</span> <span class=n>transitions</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=sa>f</span><span class=s2>&#34;Status &#39;</span><span class=si>{</span><span class=n>status</span><span class=si>}</span><span class=s2>&#39; not available. Options: </span><span class=si>{</span><span class=n>available</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>response</span> <span class=o>=</span> <span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=n>base_url</span><span class=si>}</span><span class=s2>/rest/api/2/issue/</span><span class=si>{</span><span class=n>issue_key</span><span class=si>}</span><span class=s2>/transitions&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>auth</span><span class=o>=</span><span class=n>auth</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=n>json</span><span class=o>=</span><span class=p>{</span><span class=s2>&#34;transition&#34;</span><span class=p>:</span> <span class=p>{</span><span class=s2>&#34;id&#34;</span><span class=p>:</span> <span class=n>target</span><span class=p>[</span><span class=s2>&#34;id&#34;</span><span class=p>]}},</span>
</span></span><span class=line><span class=cl>        <span class=n>timeout</span><span class=o>=</span><span class=mi>30</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>response</span><span class=o>.</span><span class=n>raise_for_status</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=sa>f</span><span class=s2>&#34;Issue </span><span class=si>{</span><span class=n>issue_key</span><span class=si>}</span><span class=s2> transitioned to </span><span class=si>{</span><span class=n>status</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span></code></pre></div><h2 id=email-notifications>Email Notifications<a href=#email-notifications class=hanchor arialabel=Anchor>#</a></h2><p>After completing a request, the agent can send email notifications:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>smtplib</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>email.mime.multipart</span> <span class=kn>import</span> <span class=n>MIMEMultipart</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>email.mime.text</span> <span class=kn>import</span> <span class=n>MIMEText</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>strands.tools</span> <span class=kn>import</span> <span class=n>tool</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@tool</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>send_email</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>to</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>],</span>
</span></span><span class=line><span class=cl>    <span class=n>subject</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>body_html</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>cc</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;Send an email notification.
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>    Args:
</span></span></span><span class=line><span class=cl><span class=s2>        to: List of recipient email addresses
</span></span></span><span class=line><span class=cl><span class=s2>        subject: Email subject line
</span></span></span><span class=line><span class=cl><span class=s2>        body_html: Email body in HTML format
</span></span></span><span class=line><span class=cl><span class=s2>        cc: Optional list of CC recipients
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>    Returns:
</span></span></span><span class=line><span class=cl><span class=s2>        Confirmation message
</span></span></span><span class=line><span class=cl><span class=s2>    &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=kn>import</span> <span class=nn>os</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>msg</span> <span class=o>=</span> <span class=n>MIMEMultipart</span><span class=p>(</span><span class=s2>&#34;alternative&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>msg</span><span class=p>[</span><span class=s2>&#34;Subject&#34;</span><span class=p>]</span> <span class=o>=</span> <span class=n>subject</span>
</span></span><span class=line><span class=cl>    <span class=n>msg</span><span class=p>[</span><span class=s2>&#34;From&#34;</span><span class=p>]</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=p>[</span><span class=s2>&#34;SMTP_FROM&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=n>msg</span><span class=p>[</span><span class=s2>&#34;To&#34;</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&#34;, &#34;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>to</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>cc</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>msg</span><span class=p>[</span><span class=s2>&#34;Cc&#34;</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&#34;, &#34;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>cc</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>msg</span><span class=o>.</span><span class=n>attach</span><span class=p>(</span><span class=n>MIMEText</span><span class=p>(</span><span class=n>body_html</span><span class=p>,</span> <span class=s2>&#34;html&#34;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>with</span> <span class=n>smtplib</span><span class=o>.</span><span class=n>SMTP</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=p>[</span><span class=s2>&#34;SMTP_HOST&#34;</span><span class=p>],</span> <span class=nb>int</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=p>[</span><span class=s2>&#34;SMTP_PORT&#34;</span><span class=p>]))</span> <span class=k>as</span> <span class=n>server</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>server</span><span class=o>.</span><span class=n>starttls</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>server</span><span class=o>.</span><span class=n>login</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=p>[</span><span class=s2>&#34;SMTP_USER&#34;</span><span class=p>],</span> <span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=p>[</span><span class=s2>&#34;SMTP_PASSWORD&#34;</span><span class=p>])</span>
</span></span><span class=line><span class=cl>        <span class=n>recipients</span> <span class=o>=</span> <span class=n>to</span> <span class=o>+</span> <span class=p>(</span><span class=n>cc</span> <span class=ow>or</span> <span class=p>[])</span>
</span></span><span class=line><span class=cl>        <span class=n>server</span><span class=o>.</span><span class=n>sendmail</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=p>[</span><span class=s2>&#34;SMTP_FROM&#34;</span><span class=p>],</span> <span class=n>recipients</span><span class=p>,</span> <span class=n>msg</span><span class=o>.</span><span class=n>as_string</span><span class=p>())</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=sa>f</span><span class=s2>&#34;Email sent to </span><span class=si>{</span><span class=s1>&#39;, &#39;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>to</span><span class=p>)</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span></code></pre></div><h2 id=safety-confirmation-for-destructive-operations>Safety: Confirmation for Destructive Operations<a href=#safety-confirmation-for-destructive-operations class=hanchor arialabel=Anchor>#</a></h2><p>The system prompt tells the agent to confirm destructive operations, but you should also enforce this at the tool level:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=nd>@tool</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>s3_delete_objects</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>bucket</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>prefix</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>dry_run</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>True</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>profile</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&#34;default&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;Delete objects from an S3 bucket matching a prefix.
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>    Args:
</span></span></span><span class=line><span class=cl><span class=s2>        bucket: The S3 bucket name
</span></span></span><span class=line><span class=cl><span class=s2>        prefix: The key prefix to match for deletion
</span></span></span><span class=line><span class=cl><span class=s2>        dry_run: If True, only list objects that would be deleted without deleting them
</span></span></span><span class=line><span class=cl><span class=s2>        profile: AWS profile to use
</span></span></span><span class=line><span class=cl><span class=s2>
</span></span></span><span class=line><span class=cl><span class=s2>    Returns:
</span></span></span><span class=line><span class=cl><span class=s2>        Dict with count of objects deleted (or that would be deleted in dry-run mode)
</span></span></span><span class=line><span class=cl><span class=s2>    &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=kn>import</span> <span class=nn>boto3</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>session</span> <span class=o>=</span> <span class=n>boto3</span><span class=o>.</span><span class=n>Session</span><span class=p>(</span><span class=n>profile_name</span><span class=o>=</span><span class=n>profile</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>s3</span> <span class=o>=</span> <span class=n>session</span><span class=o>.</span><span class=n>client</span><span class=p>(</span><span class=s2>&#34;s3&#34;</span><span class=p>,</span> <span class=n>region_name</span><span class=o>=</span><span class=s2>&#34;eu-central-1&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>paginator</span> <span class=o>=</span> <span class=n>s3</span><span class=o>.</span><span class=n>get_paginator</span><span class=p>(</span><span class=s2>&#34;list_objects_v2&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>objects</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>page</span> <span class=ow>in</span> <span class=n>paginator</span><span class=o>.</span><span class=n>paginate</span><span class=p>(</span><span class=n>Bucket</span><span class=o>=</span><span class=n>bucket</span><span class=p>,</span> <span class=n>Prefix</span><span class=o>=</span><span class=n>prefix</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>obj</span> <span class=ow>in</span> <span class=n>page</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&#34;Contents&#34;</span><span class=p>,</span> <span class=p>[]):</span>
</span></span><span class=line><span class=cl>            <span class=n>objects</span><span class=o>.</span><span class=n>append</span><span class=p>({</span><span class=s2>&#34;Key&#34;</span><span class=p>:</span> <span class=n>obj</span><span class=p>[</span><span class=s2>&#34;Key&#34;</span><span class=p>]})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>dry_run</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;mode&#34;</span><span class=p>:</span> <span class=s2>&#34;dry_run&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;would_delete&#34;</span><span class=p>:</span> <span class=nb>len</span><span class=p>(</span><span class=n>objects</span><span class=p>),</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;sample_keys&#34;</span><span class=p>:</span> <span class=p>[</span><span class=n>o</span><span class=p>[</span><span class=s2>&#34;Key&#34;</span><span class=p>]</span> <span class=k>for</span> <span class=n>o</span> <span class=ow>in</span> <span class=n>objects</span><span class=p>[:</span><span class=mi>10</span><span class=p>]],</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=ow>not</span> <span class=n>objects</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>{</span><span class=s2>&#34;mode&#34;</span><span class=p>:</span> <span class=s2>&#34;live&#34;</span><span class=p>,</span> <span class=s2>&#34;deleted&#34;</span><span class=p>:</span> <span class=mi>0</span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># Delete in batches of 1000 (S3 API limit)</span>
</span></span><span class=line><span class=cl>    <span class=n>deleted</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=n>objects</span><span class=p>),</span> <span class=mi>1000</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>batch</span> <span class=o>=</span> <span class=n>objects</span><span class=p>[</span><span class=n>i</span> <span class=p>:</span> <span class=n>i</span> <span class=o>+</span> <span class=mi>1000</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=n>s3</span><span class=o>.</span><span class=n>delete_objects</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=n>Bucket</span><span class=o>=</span><span class=n>bucket</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>Delete</span><span class=o>=</span><span class=p>{</span><span class=s2>&#34;Objects&#34;</span><span class=p>:</span> <span class=n>batch</span><span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>deleted</span> <span class=o>+=</span> <span class=nb>len</span><span class=p>(</span><span class=n>batch</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=p>{</span><span class=s2>&#34;mode&#34;</span><span class=p>:</span> <span class=s2>&#34;live&#34;</span><span class=p>,</span> <span class=s2>&#34;deleted&#34;</span><span class=p>:</span> <span class=n>deleted</span><span class=p>}</span>
</span></span></code></pre></div><p>The <code>dry_run = True</code> default means the agent must explicitly opt into destructive behavior. The LLM will naturally do a dry run first, show the results to the user, and only proceed with <code>dry_run=False</code> after confirmation.</p><h2 id=running-the-agent>Running the Agent<a href=#running-the-agent class=hanchor arialabel=Anchor>#</a></h2><p>The agent can be exposed as a CLI, a Slack bot, or a web API. Here&rsquo;s a simple CLI loop:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>main</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>agent</span> <span class=o>=</span> <span class=n>create_agent</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Platform Operations Agent&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Type &#39;quit&#39; to exit</span><span class=se>\n</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>user_input</span> <span class=o>=</span> <span class=nb>input</span><span class=p>(</span><span class=s2>&#34;You: &#34;</span><span class=p>)</span><span class=o>.</span><span class=n>strip</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>user_input</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span> <span class=ow>in</span> <span class=p>(</span><span class=s2>&#34;quit&#34;</span><span class=p>,</span> <span class=s2>&#34;exit&#34;</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>break</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>response</span> <span class=o>=</span> <span class=n>agent</span><span class=p>(</span><span class=n>user_input</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>Agent: </span><span class=si>{</span><span class=n>response</span><span class=si>}</span><span class=se>\n</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&#34;__main__&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>main</span><span class=p>()</span>
</span></span></code></pre></div><p>Example interaction:</p><pre tabindex=0><code>You: List all API keys in the LLM Gateway DynamoDB table

Agent: I found 23 active API keys in the LLM Gateway table. Here&#39;s a summary:
- 8 keys for production services
- 10 keys for non-production services
- 5 keys for external consumers

Would you like me to show details for any specific category?

You: Show me the production keys

Agent: Here are the 8 production API keys:
1. service-claims-ai-prd (last used: 2 hours ago)
2. service-document-classifier-prd (last used: 15 minutes ago)
...
</code></pre><h2 id=lessons-learned>Lessons Learned<a href=#lessons-learned class=hanchor arialabel=Anchor>#</a></h2><p>After running this agent in practice for several months:</p><ol><li><p><strong>Tool descriptions are critical.</strong> The LLM selects tools based on their docstrings. Vague descriptions lead to wrong tool selection. Be specific about what each tool does and when to use it.</p></li><li><p><strong>Default to safe.</strong> Every destructive tool should default to dry-run mode. The agent will naturally show the user what it plans to do before executing.</p></li><li><p><strong>Keep tools focused.</strong> One tool should do one thing. A <code>secrets_manager_get</code> tool is better than a <code>secrets_manager_manage</code> tool that tries to do everything based on an &ldquo;action&rdquo; parameter.</p></li><li><p><strong>Log everything.</strong> Every tool invocation should be logged with its parameters and result. This creates an audit trail and helps debug when the agent makes mistakes.</p></li><li><p><strong>Start small.</strong> Don&rsquo;t try to automate everything at once. Start with the three most common requests, prove the pattern works, then add more tools over time.</p></li><li><p><strong>The agent makes mistakes.</strong> It will occasionally select the wrong tool or pass wrong parameters. The dry-run defaults and confirmation steps catch most errors before they cause damage.</p></li></ol><h2 id=whats-next>What&rsquo;s Next<a href=#whats-next class=hanchor arialabel=Anchor>#</a></h2><p>The natural evolution is to connect the agent to your ticketing system. When a new Jira service desk request comes in, the agent can:</p><ol><li>Read the request</li><li>Classify it</li><li>Execute the standard procedure</li><li>Update the ticket with results</li><li>Send a notification to the requester</li></ol><p>This turns your platform team from a ticket queue into an automated service, freeing up engineers for the work that actually requires human judgment.</p><h2 id=references>References<a href=#references class=hanchor arialabel=Anchor>#</a></h2><ul><li><a href=https://github.com/strands-agents/sdk-python>Strands Agents SDK</a></li><li><a href=https://aws.amazon.com/bedrock/>Amazon Bedrock</a></li><li><a href=https://docs.anthropic.com/en/docs/build-with-claude/tool-use>Tool Use with Claude</a></li></ul></div></div><div class=pagination><div class=pagination__title><span class=pagination__title-h></span><hr></div><div class=pagination__buttons><a href=https://manuelfedele.github.io/posts/building-ai-sre-assistant-from-scratch/ class="button inline prev">&lt; [<span class=button__text>Building an AI SRE Assistant From Scratch: Architecture of an Autonomous Infrastructure Investigator</span>]
</a>::
<a href=https://manuelfedele.github.io/posts/ecs-fargate-production-patterns/ class="button inline next">[<span class=button__text>ECS Fargate Production Patterns That Actually Work</span>] ></a></div></div></article></div><footer class=footer><div class=footer__inner><div class=copyright><span>Â© 2026 Powered by <a href=https://gohugo.io>Hugo</a></span>
<span>:: <a href=https://github.com/panr/hugo-theme-terminal target=_blank>Theme</a> made by <a href=https://github.com/panr target=_blank>panr</a></span></div></div></footer><script type=text/javascript src=/bundle.min.js></script></div></body></html>