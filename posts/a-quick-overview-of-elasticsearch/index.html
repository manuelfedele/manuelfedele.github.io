<!doctype html><html lang=en><head><title>A Quick Overview of Elasticsearch :: Git Push and Run</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Introduction Elastic, also known as Elasticsearch, is a powerful search and analytics engine that can be used to index, search, and analyze large volumes of data quickly and in near real-time. It is open-source and built on top of the Lucene library. In this blog post, we will go over the basics of Elastic and how to get started using it.
Installation The first step to using Elastic is to install it on your system. You can download the latest version of Elastic from the official website (https://www.elastic.co/downloads/elasticsearch) and install it according to the instructions provided. Once installed, you can start the Elastic service on your machine and access it through a web interface at http://localhost:9200.
"><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=https://manuelfedele.github.io/posts/a-quick-overview-of-elasticsearch/><script async src="https://www.googletagmanager.com/gtag/js?id=G-K9P1DJX238"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-K9P1DJX238")}</script><link rel=stylesheet href=https://manuelfedele.github.io/css/buttons.min.86f6b4c106b6c6eb690ae5203d36b442c1f66f718ff4e8164fa86cf6c61ad641.css><link rel=stylesheet href=https://manuelfedele.github.io/css/code.min.d529ea4b2fb8d34328d7d31afc5466d5f7bc2f0bc9abdd98b69385335d7baee4.css><link rel=stylesheet href=https://manuelfedele.github.io/css/fonts.min.5bb7ed13e1d00d8ff39ea84af26737007eb5051b157b86fc24487c94f3dc8bbe.css><link rel=stylesheet href=https://manuelfedele.github.io/css/footer.min.eb8dfc2c6a7eafa36cd3ba92d63e69e849e2200e0002a228d137f236b09ecd75.css><link rel=stylesheet href=https://manuelfedele.github.io/css/gist.min.a751e8b0abe1ba8bc53ced52a38b19d8950fe78ca29454ea8c2595cf26aad5c0.css><link rel=stylesheet href=https://manuelfedele.github.io/css/header.min.75c7eb0e2872d95ff48109c6647d0223a38db52e2561dd87966eb5fc7c6bdac6.css><link rel=stylesheet href=https://manuelfedele.github.io/css/main.min.775ac2af004d44c22a6d000fbd1d9af529642f5cef27399d0280d180af2c2e9b.css><link rel=stylesheet href=https://manuelfedele.github.io/css/menu.min.310d32205bdedd6f43144e3c3273c9deecd238eba5f9108db5ea96ca0cfbe377.css><link rel=stylesheet href=https://manuelfedele.github.io/css/pagination.min.bbb986dbce00a5ce5aca0504b7925fc1c581992a4bf57f163e5d69cc1db7d836.css><link rel=stylesheet href=https://manuelfedele.github.io/css/post.min.ad50c7f4d00e7975918f37fc74c6029e1959a40d66fb5b2c6564a8715e985573.css><link rel=stylesheet href=https://manuelfedele.github.io/css/syntax.min.e9ab635cf918bc84b901eb65c0b2caa74c9544245e3647c1af5c129896ef276e.css><link rel=stylesheet href=https://manuelfedele.github.io/css/terminal.min.e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css><link rel=stylesheet href=https://manuelfedele.github.io/css/terms.min.b81791663c3790e738e571cdbf802312390d30e4b1d8dc9d814a5b5454d0ac11.css><link rel="shortcut icon" href=https://manuelfedele.github.io/favicon.png><link rel=apple-touch-icon href=https://manuelfedele.github.io/apple-touch-icon.png><meta name=twitter:card content="summary"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="og:title" content="A Quick Overview of Elasticsearch"><meta property="og:description" content="Introduction Elastic, also known as Elasticsearch, is a powerful search and analytics engine that can be used to index, search, and analyze large volumes of data quickly and in near real-time. It is open-source and built on top of the Lucene library. In this blog post, we will go over the basics of Elastic and how to get started using it.
Installation The first step to using Elastic is to install it on your system. You can download the latest version of Elastic from the official website (https://www.elastic.co/downloads/elasticsearch) and install it according to the instructions provided. Once installed, you can start the Elastic service on your machine and access it through a web interface at http://localhost:9200.
"><meta property="og:url" content="https://manuelfedele.github.io/posts/a-quick-overview-of-elasticsearch/"><meta property="og:site_name" content="Git Push and Run"><meta property="og:image" content="https://manuelfedele.github.io/og-image.png"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="627"><meta property="article:published_time" content="2023-01-13 17:24:25 +0100 +0100"></head><body><div class="container center"><header class=header><div class=header__inner><div class=header__logo><a href=/><div class=logo>git push && run</div></a></div><ul class="menu menu--mobile"><li class=menu__trigger>Menu&nbsp;▾</li><li><ul class=menu__dropdown><li><a href=/about>About</a></li><li><a href=/posts>Blog</a></li></ul></li></ul></div><nav class=navigation-menu><ul class="navigation-menu__inner menu--desktop"><li><a href=/about>About</a></li><li><a href=/posts>Blog</a></li></ul></nav></header><div class=content><article class=post><h1 class=post-title><a href=https://manuelfedele.github.io/posts/a-quick-overview-of-elasticsearch/>A Quick Overview of Elasticsearch</a></h1><div class=post-meta><time class=post-date>2023-01-13</time><span class=post-reading-time>7 min read (1414 words)</span></div><div class=table-of-contents><h2>Table of Contents</h2><nav id=TableOfContents><ul><li><a href=#introduction>Introduction</a><ul><li><a href=#installation>Installation</a></li><li><a href=#indexing-data>Indexing Data</a></li><li><a href=#searching-data>Searching Data</a></li><li><a href=#analyzing-data>Analyzing Data</a></li></ul></li><li><a href=#indexing-data-1>Indexing Data</a><ul><li><a href=#creating-an-index>Creating an Index</a></li><li><a href=#customizing-mappings>Customizing Mappings</a></li><li><a href=#update-mappings>Update Mappings</a></li><li><a href=#deleting-an-index>Deleting an Index</a></li></ul></li><li><a href=#searching-data-1>Searching Data</a><ul><li><a href=#basic-search>Basic Search</a></li><li><a href=#advanced-search>Advanced Search</a></li><li><a href=#searching-with-aggregations>Searching with Aggregations</a></li><li><a href=#searching-with-highlighting>Searching with Highlighting</a></li></ul></li><li><a href=#aggregated-indexes>Aggregated Indexes</a><ul><li><a href=#creating-aggregated-indexes>Creating Aggregated Indexes</a></li><li><a href=#using-aggregations>Using Aggregations</a></li><li><a href=#combining-aggregations>Combining Aggregations</a></li></ul></li></ul></nav></div><div class=post-content><div><h2 id=introduction>Introduction<a href=#introduction class=hanchor arialabel=Anchor>#</a></h2><p>Elastic, also known as Elasticsearch, is a powerful search and analytics engine that can be used to index, search, and analyze large volumes of data quickly and in near real-time. It is open-source and built on top of the Lucene library. In this blog post, we will go over the basics of Elastic and how to get started using it.</p><ol><li><h3 id=installation>Installation<a href=#installation class=hanchor arialabel=Anchor>#</a></h3><p>The first step to using Elastic is to install it on your system. You can download the latest version of Elastic from the official website (<a href=https://www.elastic.co/downloads/elasticsearch>https://www.elastic.co/downloads/elasticsearch</a>) and install it according to the instructions provided. Once installed, you can start the Elastic service on your machine and access it through a web interface at http://localhost:9200.</p></li><li><h3 id=indexing-data>Indexing Data<a href=#indexing-data class=hanchor arialabel=Anchor>#</a></h3><p>In Elastic, data is stored in indices, which are similar to tables in a relational database. To index data, you need to create an index and then add documents to it. You can create an index using the Elastic API, for example by sending a PUT request to the following endpoint: http://localhost:9200/index_name. Once the index is created, you can add documents to it by sending a POST request to the same endpoint with your JSON data.</p></li><li><h3 id=searching-data>Searching Data<a href=#searching-data class=hanchor arialabel=Anchor>#</a></h3><p>Once you have indexed your data, you can search for it using the Elastic API. The most basic search is a match query, which returns all documents that match a specified term. You can perform a match query by sending a GET request to the following endpoint: http://localhost:9200/index_name/_search?q=your_search_term. You can also use more advanced search options such as filtering, aggregation, and highlighting.</p></li><li><h3 id=analyzing-data>Analyzing Data<a href=#analyzing-data class=hanchor arialabel=Anchor>#</a></h3><p>Elastic also provides a variety of tools for analyzing data, such as the ability to create visualizations and dashboards using Kibana. Kibana is a separate product from Elastic but it can be easily integrated with it. With Kibana, you can create charts, tables, and maps to visualize your data and gain insights from it.</p></li></ol><h2 id=indexing-data-1>Indexing Data<a href=#indexing-data-1 class=hanchor arialabel=Anchor>#</a></h2><ol><li><h3 id=creating-an-index>Creating an Index<a href=#creating-an-index class=hanchor arialabel=Anchor>#</a></h3>The most basic way to create an index in Elasticsearch is to send a PUT request to the Elasticsearch API endpoint for the index you want to create. For example, to create an index named &ldquo;customers&rdquo;, you can use the following command:<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl -XPUT http://localhost:9200/customers
</span></span></code></pre></div>This will create an index with the default settings and mapping.</li><li><h3 id=customizing-mappings>Customizing Mappings<a href=#customizing-mappings class=hanchor arialabel=Anchor>#</a></h3>When you create an index, Elasticsearch automatically creates a mapping for it, which defines how the data in the index should be treated. You can customize the mapping for an index by sending a PUT request with a JSON document that defines the mappings you want to use. For example, to create an index named &ldquo;customers&rdquo; with mappings for the fields &ldquo;name&rdquo;, &ldquo;age&rdquo;, and &ldquo;address&rdquo;, you can use the following command:<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl -XPUT http://localhost:9200/customers -H <span class=s1>&#39;Content-Type: application/json&#39;</span> -d <span class=s1>&#39;
</span></span></span><span class=line><span class=cl><span class=s1>{
</span></span></span><span class=line><span class=cl><span class=s1>     &#34;mappings&#34;: {
</span></span></span><span class=line><span class=cl><span class=s1>         &#34;properties&#34;: {
</span></span></span><span class=line><span class=cl><span class=s1>             &#34;name&#34;: { &#34;type&#34;: &#34;text&#34; },
</span></span></span><span class=line><span class=cl><span class=s1>             &#34;age&#34;: { &#34;type&#34;: &#34;integer&#34; },
</span></span></span><span class=line><span class=cl><span class=s1>             &#34;address&#34;: { &#34;type&#34;: &#34;text&#34; }
</span></span></span><span class=line><span class=cl><span class=s1>         }
</span></span></span><span class=line><span class=cl><span class=s1>     }
</span></span></span><span class=line><span class=cl><span class=s1> }&#39;</span>
</span></span></code></pre></div></li><li><h3 id=update-mappings>Update Mappings<a href=#update-mappings class=hanchor arialabel=Anchor>#</a></h3>If you have already created an index and want to update its mappings, you can use the _mapping endpoint and send a PUT request with the updated mappings. For example, to update the mappings for the &ldquo;customers&rdquo; index, you can use the following command:<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl -XPUT http://localhost:9200/customers/_mapping -H <span class=s1>&#39;Content-Type: application/json&#39;</span> -d <span class=s1>&#39;
</span></span></span><span class=line><span class=cl><span class=s1>{
</span></span></span><span class=line><span class=cl><span class=s1>     &#34;properties&#34;: {
</span></span></span><span class=line><span class=cl><span class=s1>         &#34;name&#34;: { &#34;type&#34;: &#34;text&#34; },
</span></span></span><span class=line><span class=cl><span class=s1>         &#34;age&#34;: { &#34;type&#34;: &#34;integer&#34; },
</span></span></span><span class=line><span class=cl><span class=s1>         &#34;address&#34;: { &#34;type&#34;: &#34;text&#34; }
</span></span></span><span class=line><span class=cl><span class=s1>     }
</span></span></span><span class=line><span class=cl><span class=s1> }&#39;</span>
</span></span></code></pre></div></li><li><h3 id=deleting-an-index>Deleting an Index<a href=#deleting-an-index class=hanchor arialabel=Anchor>#</a></h3>If you no longer need an index, you can delete it by sending a DELETE request to the Elasticsearch API endpoint for the index. For example, to delete the &ldquo;customers&rdquo; index, you can use the following command:<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl -XDELETE http://localhost:9200/customers
</span></span></code></pre></div></li></ol><h2 id=searching-data-1>Searching Data<a href=#searching-data-1 class=hanchor arialabel=Anchor>#</a></h2><ol><li><h3 id=basic-search>Basic Search<a href=#basic-search class=hanchor arialabel=Anchor>#</a></h3>The most basic search in Elasticsearch is the match query, which returns all documents that match a specified term. For example, to search for all documents in the &ldquo;customers&rdquo; index that have the term &ldquo;John&rdquo; in the &ldquo;name&rdquo; field, you can use the following command:<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl -XGET http://localhost:9200/customers/_search -H <span class=s1>&#39;Content-Type: application/json&#39;</span> -d <span class=s1>&#39;
</span></span></span><span class=line><span class=cl><span class=s1>{
</span></span></span><span class=line><span class=cl><span class=s1>     &#34;query&#34;: {
</span></span></span><span class=line><span class=cl><span class=s1>         &#34;match&#34;: {
</span></span></span><span class=line><span class=cl><span class=s1>             &#34;name&#34;: &#34;John&#34;
</span></span></span><span class=line><span class=cl><span class=s1>         }
</span></span></span><span class=line><span class=cl><span class=s1>     }
</span></span></span><span class=line><span class=cl><span class=s1> }&#39;</span>
</span></span></code></pre></div></li><li><h3 id=advanced-search>Advanced Search<a href=#advanced-search class=hanchor arialabel=Anchor>#</a></h3>Elasticsearch also offers a wide range of search options to customize your search queries, such as filtering, aggregation, and highlighting. For example, to search for all documents in the &ldquo;customers&rdquo; index that have the term &ldquo;John&rdquo; in the &ldquo;name&rdquo; field and are over the age of 30, you can use the following command:<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl -XGET http://localhost:9200/customers/_search -H <span class=s1>&#39;Content-Type: application/json&#39;</span> -d <span class=s1>&#39;
</span></span></span><span class=line><span class=cl><span class=s1>{
</span></span></span><span class=line><span class=cl><span class=s1>     &#34;query&#34;: {
</span></span></span><span class=line><span class=cl><span class=s1>         &#34;bool&#34;: {
</span></span></span><span class=line><span class=cl><span class=s1>             &#34;must&#34;: {
</span></span></span><span class=line><span class=cl><span class=s1>                 &#34;match&#34;: {
</span></span></span><span class=line><span class=cl><span class=s1>                     &#34;name&#34;: &#34;John&#34;
</span></span></span><span class=line><span class=cl><span class=s1>                 }
</span></span></span><span class=line><span class=cl><span class=s1>             },
</span></span></span><span class=line><span class=cl><span class=s1>             &#34;filter&#34;: {
</span></span></span><span class=line><span class=cl><span class=s1>                 &#34;range&#34;: {
</span></span></span><span class=line><span class=cl><span class=s1>                     &#34;age&#34;: {
</span></span></span><span class=line><span class=cl><span class=s1>                         &#34;gt&#34;: 30
</span></span></span><span class=line><span class=cl><span class=s1>                     }
</span></span></span><span class=line><span class=cl><span class=s1>                 }
</span></span></span><span class=line><span class=cl><span class=s1>             }
</span></span></span><span class=line><span class=cl><span class=s1>         }
</span></span></span><span class=line><span class=cl><span class=s1>     }
</span></span></span><span class=line><span class=cl><span class=s1> }&#39;</span>
</span></span></code></pre></div></li><li><h3 id=searching-with-aggregations>Searching with Aggregations<a href=#searching-with-aggregations class=hanchor arialabel=Anchor>#</a></h3>You can also perform data aggregations on your search results to gain insights into your data. For example, to search for all documents in the &ldquo;customers&rdquo; index and group them by the &ldquo;age&rdquo; field, you can use the following command:<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl -XGET http://localhost:9200/customers/_search -H <span class=s1>&#39;Content-Type: application/json&#39;</span> -d <span class=s1>&#39;
</span></span></span><span class=line><span class=cl><span class=s1>     {
</span></span></span><span class=line><span class=cl><span class=s1>         &#34;query&#34;: {
</span></span></span><span class=line><span class=cl><span class=s1>             &#34;match_all&#34;: {}
</span></span></span><span class=line><span class=cl><span class=s1>         },
</span></span></span><span class=line><span class=cl><span class=s1>         &#34;aggs&#34;: {
</span></span></span><span class=line><span class=cl><span class=s1>             &#34;group_by_age&#34;: {
</span></span></span><span class=line><span class=cl><span class=s1>                 &#34;terms&#34;: {
</span></span></span><span class=line><span class=cl><span class=s1>                     &#34;field&#34;: &#34;age&#34;
</span></span></span><span class=line><span class=cl><span class=s1>                 }
</span></span></span><span class=line><span class=cl><span class=s1>             }
</span></span></span><span class=line><span class=cl><span class=s1>         }
</span></span></span><span class=line><span class=cl><span class=s1>     }&#39;</span>
</span></span></code></pre></div></li><li><h3 id=searching-with-highlighting>Searching with Highlighting<a href=#searching-with-highlighting class=hanchor arialabel=Anchor>#</a></h3>You can also use highlighting to highlight the matched search terms in the search results. For example, to search for all documents in the &ldquo;customers&rdquo; index that have the term &ldquo;John&rdquo; in the &ldquo;name&rdquo; field and highlight the matched term, you can use the following command:<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl -XGET http://localhost:9200/customers/_search -H <span class=s1>&#39;Content-Type: application/json&#39;</span> -d <span class=s1>&#39;
</span></span></span><span class=line><span class=cl><span class=s1>{
</span></span></span><span class=line><span class=cl><span class=s1>     &#34;query&#34;: {
</span></span></span><span class=line><span class=cl><span class=s1>         &#34;match&#34;: {
</span></span></span><span class=line><span class=cl><span class=s1>             &#34;name&#34;: &#34;John&#34;
</span></span></span><span class=line><span class=cl><span class=s1>         }
</span></span></span><span class=line><span class=cl><span class=s1>     },
</span></span></span><span class=line><span class=cl><span class=s1>     &#34;highlight&#34;: {
</span></span></span><span class=line><span class=cl><span class=s1>         &#34;fields&#34;: {
</span></span></span><span class=line><span class=cl><span class=s1>             &#34;name&#34;: {}
</span></span></span><span class=line><span class=cl><span class=s1>         }
</span></span></span><span class=line><span class=cl><span class=s1>     }
</span></span></span><span class=line><span class=cl><span class=s1> }&#39;</span>
</span></span></code></pre></div></li></ol><h2 id=aggregated-indexes>Aggregated Indexes<a href=#aggregated-indexes class=hanchor arialabel=Anchor>#</a></h2><p>Sometimes you need to perform aggregation and never use the &ldquo;raw data&rdquo;. In this cases, creating an aggregated index could improve the performance.
An aggregation is a way to group, filter or calculate the statistics of your data. There are different types of aggregations in Elasticsearch, such as terms, range, date histogram, and more.
For example, you can use the term aggregation to group your data by a specific field, like age, or use range aggregation to filter your data based on a specific range of values.</p><ol><li><h3 id=creating-aggregated-indexes>Creating Aggregated Indexes<a href=#creating-aggregated-indexes class=hanchor arialabel=Anchor>#</a></h3><p>You can create an index and perform aggregations on it by sending a PUT request to the Elasticsearch API endpoint for the index you want to create, and including the aggregations in the request body.
For example, to create an index named &ldquo;sales&rdquo; with an aggregation on the &ldquo;price&rdquo; field, you can use the following command:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl -XPUT http://localhost:9200/sales -H <span class=s1>&#39;Content-Type: application/json&#39;</span> -d <span class=s1>&#39;
</span></span></span><span class=line><span class=cl><span class=s1>{
</span></span></span><span class=line><span class=cl><span class=s1>     &#34;mappings&#34;: {
</span></span></span><span class=line><span class=cl><span class=s1>         &#34;properties&#34;: {
</span></span></span><span class=line><span class=cl><span class=s1>             &#34;price&#34;: { &#34;type&#34;: &#34;double&#34; },
</span></span></span><span class=line><span class=cl><span class=s1>             &#34;date&#34;: { &#34;type&#34;: &#34;date&#34; }
</span></span></span><span class=line><span class=cl><span class=s1>         }
</span></span></span><span class=line><span class=cl><span class=s1>     },
</span></span></span><span class=line><span class=cl><span class=s1>     &#34;aggs&#34;: {
</span></span></span><span class=line><span class=cl><span class=s1>         &#34;avg_price&#34;: {
</span></span></span><span class=line><span class=cl><span class=s1>             &#34;avg&#34;: {
</span></span></span><span class=line><span class=cl><span class=s1>                 &#34;field&#34;: &#34;price&#34;
</span></span></span><span class=line><span class=cl><span class=s1>             }
</span></span></span><span class=line><span class=cl><span class=s1>         }
</span></span></span><span class=line><span class=cl><span class=s1>     }
</span></span></span><span class=line><span class=cl><span class=s1> }&#39;</span>
</span></span></code></pre></div></li><li><h3 id=using-aggregations>Using Aggregations<a href=#using-aggregations class=hanchor arialabel=Anchor>#</a></h3><p>Once you have created an aggregated index, you can use the Elasticsearch API to perform search queries on it and retrieve the aggregated results. For example, to retrieve the average price of all documents in the &ldquo;sales&rdquo; index, you can use the following command:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl -XGET http://localhost:9200/sales/_search -H <span class=s1>&#39;Content-Type: application/json&#39;</span> -d <span class=s1>&#39;
</span></span></span><span class=line><span class=cl><span class=s1>{
</span></span></span><span class=line><span class=cl><span class=s1>     &#34;aggs&#34;: {
</span></span></span><span class=line><span class=cl><span class=s1>         &#34;avg_price&#34;: {
</span></span></span><span class=line><span class=cl><span class=s1>             &#34;avg&#34;: {
</span></span></span><span class=line><span class=cl><span class=s1>                 &#34;field&#34;: &#34;price&#34;
</span></span></span><span class=line><span class=cl><span class=s1>             }
</span></span></span><span class=line><span class=cl><span class=s1>         }
</span></span></span><span class=line><span class=cl><span class=s1>     }
</span></span></span><span class=line><span class=cl><span class=s1> }&#39;</span>
</span></span></code></pre></div></li><li><h3 id=combining-aggregations>Combining Aggregations<a href=#combining-aggregations class=hanchor arialabel=Anchor>#</a></h3><p>You can also combine multiple aggregations to gain more insights from your data. For example, you can use a terms aggregation to group your data by a specific field, like product type, and then use a range aggregation to filter your data based on a specific range of values.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl> curl -XGET http://localhost:9200/sales/_search -H <span class=s1>&#39;Content-Type: application/json&#39;</span> -d <span class=s1>&#39;
</span></span></span><span class=line><span class=cl><span class=s1> {
</span></span></span><span class=line><span class=cl><span class=s1>     &#34;aggs&#34;: {
</span></span></span><span class=line><span class=cl><span class=s1>         &#34;product_type&#34;: {
</span></span></span><span class=line><span class=cl><span class=s1>             &#34;terms&#34;: {
</span></span></span><span class=line><span class=cl><span class=s1>                 &#34;field&#34;: &#34;product_type&#34;
</span></span></span><span class=line><span class=cl><span class=s1>             },
</span></span></span><span class=line><span class=cl><span class=s1>             &#34;aggs&#34;: {
</span></span></span><span class=line><span class=cl><span class=s1>                 &#34;price_range&#34;: {
</span></span></span><span class=line><span class=cl><span class=s1>                     &#34;range&#34;: {
</span></span></span><span class=line><span class=cl><span class=s1>                         &#34;field&#34;: &#34;price&#34;,
</span></span></span><span class=line><span class=cl><span class=s1>                         &#34;ranges&#34;: [
</span></span></span><span class=line><span class=cl><span class=s1>                             { &#34;to&#34;: 10 },
</span></span></span><span class=line><span class=cl><span class=s1>                             { &#34;from&#34;: 10, &#34;to&#34;: 20 },
</span></span></span><span class=line><span class=cl><span class=s1>                             { &#34;from&#34;: 20 }
</span></span></span><span class=line><span class=cl><span class=s1>                         ]
</span></span></span><span class=line><span class=cl><span class=s1>                     }
</span></span></span><span class=line><span class=cl><span class=s1>                 }
</span></span></span><span class=line><span class=cl><span class=s1>             }
</span></span></span><span class=line><span class=cl><span class=s1>         }
</span></span></span><span class=line><span class=cl><span class=s1>     }
</span></span></span><span class=line><span class=cl><span class=s1> }&#39;</span>
</span></span></code></pre></div><p>In this example, the query is grouping the documents by &ldquo;product_type&rdquo; field and then filters them by price range. This way you can have a better understanding of how different product types are performing based on the price range.</p><p>Another example could be:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl -XGET http://localhost:9200/sales/_search -H <span class=s1>&#39;Content-Type: application/json&#39;</span> -d <span class=s1>&#39;
</span></span></span><span class=line><span class=cl><span class=s1>{
</span></span></span><span class=line><span class=cl><span class=s1>    &#34;aggs&#34;: {
</span></span></span><span class=line><span class=cl><span class=s1>        &#34;by_customer_id&#34;: {
</span></span></span><span class=line><span class=cl><span class=s1>            &#34;terms&#34;: {
</span></span></span><span class=line><span class=cl><span class=s1>                &#34;field&#34;: &#34;customer_id&#34;
</span></span></span><span class=line><span class=cl><span class=s1>            },
</span></span></span><span class=line><span class=cl><span class=s1>            &#34;aggs&#34;: {
</span></span></span><span class=line><span class=cl><span class=s1>                &#34;avg_price&#34;: {
</span></span></span><span class=line><span class=cl><span class=s1>                    &#34;avg&#34;: {
</span></span></span><span class=line><span class=cl><span class=s1>                        &#34;field&#34;: &#34;price&#34;
</span></span></span><span class=line><span class=cl><span class=s1>                    }
</span></span></span><span class=line><span class=cl><span class=s1>                }
</span></span></span><span class=line><span class=cl><span class=s1>            }
</span></span></span><span class=line><span class=cl><span class=s1>        }
</span></span></span><span class=line><span class=cl><span class=s1>    }
</span></span></span><span class=line><span class=cl><span class=s1>}&#39;</span>
</span></span></code></pre></div><p>This way you can have a better understanding of how different customers are performing based on the average price of their purchases.</p></li></ol><p>In conclusion, Elastic is a powerful tool for indexing, searching, and analyzing large volumes of data. It is easy to get started with, and the possibilities are endless with the wide range of features it offers. This is just the tip of the iceberg, and there is a lot more to explore. Give Elastic a try and see how it can help you with your big data needs."</p></div></div><div class=pagination><div class=pagination__title><span class=pagination__title-h></span><hr></div><div class=pagination__buttons><a href=https://manuelfedele.github.io/posts/trading-with-alpaca-and-golang/ class="button inline prev">&lt; [<span class=button__text>Trading With Alpaca and Golang</span>]
</a>::
<a href=https://manuelfedele.github.io/posts/unit-testing-in-golang/ class="button inline next">[<span class=button__text>Unit Testing in Golang</span>] ></a></div></div></article></div><footer class=footer><div class=footer__inner><div class=copyright><span>© 2026 Powered by <a href=https://gohugo.io>Hugo</a></span>
<span>:: <a href=https://github.com/panr/hugo-theme-terminal target=_blank>Theme</a> made by <a href=https://github.com/panr target=_blank>panr</a></span></div></div></footer><script type=text/javascript src=/bundle.min.js></script></div></body></html>